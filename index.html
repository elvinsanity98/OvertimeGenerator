<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Leave Application Generator</title>

<style>
body{
    font-family: Arial, sans-serif;
    margin: 20px;
}

.logo{
    text-align:center;
    margin-bottom:10px;
}

.logo img{
    height:90px;
}

.form-container{
    max-width:800px;
    margin:auto;
    padding:20px;
    border:1px solid #ccc;
    margin-bottom:30px;
}

input, select, textarea{
    width:100%;
    padding:6px;
    margin-top:4px;
    margin-bottom:10px;
}

button{
    padding:10px 20px;
    background:#003366;
    color:white;
    border:none;
    cursor:pointer;
}

.print-area{
    display:none;
    width:900px;
    margin:auto;
    border:1px solid black;
    padding:20px;
}

.print-area table{
    width:100%;
    border-collapse:collapse;
}

.print-area td{
    border:1px solid black;
    padding:8px;
    font-size:14px;
}

.title{
    text-align:center;
    font-weight:bold;
    font-size:18px;
}

.center{
    text-align:center;
}

.bold{
    font-weight:bold;
}

.print-logo{
    text-align:center;
    margin-bottom:10px;
}

.print-logo img{
    height:90px;
}

@media print{
    body *{
        visibility:hidden;
    }
    .print-area, .print-area *{
        visibility:visible;
    }
    .print-area{
        position:absolute;
        left:0;
        top:0;
    }
}
</style>
</head>
<body>

<div class="logo">
    <img src="logo.png" alt="Company Logo">
</div>

<h2 style="text-align:center;">Leave Application Form Entry</h2>

<form class="form-container" id="leaveForm" onsubmit="generate(event)">

<label>Name of Employee</label>
<input type="text" id="name" required>

<label>Employment Status</label>
<input type="text" id="status" required>

<label>Designation</label>
<input type="text" id="designation" required>

<label>Area/Division</label>
<input type="text" id="division" required>

<label>Date Filed</label>
<input type="date" id="datefiled" required>

<label>Nature of Leave</label>
<select id="nature" required>
    <option value="">-- Select Leave Type --</option>
    <option>Vacation Leave</option>
    <option>Sick Leave</option>
    <option>Maternity/Paternity Leave</option>
    <option>Mandatory Leave</option>
</select>

<label>With Pay / Without Pay</label>
<select id="paytype" required>
    <option value="">-- Select Pay Type --</option>
    <option>With Pay</option>
    <option>Without Pay</option>
</select>

<label>From</label>
<input type="date" id="from" required>

<label>To</label>
<input type="date" id="to" required>

<label>Total Leave Days</label>
<input type="number" id="days" min="0.5" step="0.5" required>

<label>Total Hours</label>
<input type="number" id="hours" min="0" required>

<label>Reason</label>
<textarea id="reason" required></textarea>

<label>Supervisor Name</label>
<input type="text" id="supervisor" required>

<label>President/CEO Name</label>
<input type="text" id="ceo" required>

<button type="submit">Generate & Print</button>

</form>


<div class="print-area" id="printArea">

<div class="print-logo">
    <img src="logo.png" alt="Company Logo">
</div>

<table>
<tr>
<td colspan="6" class="title">APPLICATION FOR LEAVE OF ABSENCE</td>
</tr>

<tr>
<td>Name of Employee:</td>
<td colspan="3" class="bold" id="p_name"></td>
<td>Date Filed:</td>
<td class="bold" id="p_datefiled"></td>
</tr>

<tr>
<td>Employment Status:</td>
<td id="p_status"></td>
<td>Designation:</td>
<td id="p_designation"></td>
<td>Area/Division:</td>
<td id="p_division"></td>
</tr>

<tr>
<td>Nature of Leave:</td>
<td colspan="5" id="p_nature"></td>
</tr>

<tr>
<td>Inclusive Dates:</td>
<td colspan="2">From: <span id="p_from"></span></td>
<td colspan="2">To: <span id="p_to"></span></td>
<td>
Days: <span id="p_days"></span><br>
Hours: <span id="p_hours"></span>
</td>
</tr>

<tr>
<td>Reason/s For Leave:</td>
<td colspan="5" id="p_reason"></td>
</tr>

<tr style="height:80px;">
<td colspan="2" class="center">
<br><br>
<span id="p_name2" class="bold"></span><br>
Employee
</td>

<td colspan="2" class="center">
<br><br>
<span id="p_supervisor" class="bold"></span><br>
Supervisor
</td>

<td colspan="2" class="center">
<br><br>
<span id="p_ceo" class="bold"></span><br>
President/CEO
</td>
</tr>

</table>

</div>


<script>

function formatDate(dateStr){
    if(!dateStr) return "";
    const d = new Date(dateStr);
    return d.toLocaleDateString('en-US',{
        year:'numeric',
        month:'long',
        day:'numeric'
    });
}

function generate(event){

    event.preventDefault();

    const form = document.getElementById("leaveForm");

    if(!form.checkValidity()){
        alert("Please complete all required fields before generating the leave form.");
        return;
    }

    const fromDate = new Date(document.getElementById("from").value);
    const toDate = new Date(document.getElementById("to").value);

    if(toDate < fromDate){
        alert("End date cannot be earlier than start date.");
        return;
    }

    const daysValue = parseFloat(document.getElementById("days").value);

    document.getElementById("p_days").innerText =
        daysValue + (daysValue === 1 ? " Day" : " Days");

    document.getElementById("p_name").innerText =
        document.getElementById("name").value.toUpperCase();

    document.getElementById("p_name2").innerText =
        document.getElementById("name").value.toUpperCase();

    document.getElementById("p_status").innerText =
        document.getElementById("status").value;

    document.getElementById("p_designation").innerText =
        document.getElementById("designation").value;

    document.getElementById("p_division").innerText =
        document.getElementById("division").value;

    document.getElementById("p_datefiled").innerText =
        formatDate(document.getElementById("datefiled").value);

    document.getElementById("p_nature").innerText =
        document.getElementById("nature").value + " - " +
        document.getElementById("paytype").value;

    document.getElementById("p_from").innerText =
        formatDate(document.getElementById("from").value);

    document.getElementById("p_to").innerText =
        formatDate(document.getElementById("to").value);

    document.getElementById("p_hours").innerText =
        document.getElementById("hours").value + " Hour(s)";

    document.getElementById("p_reason").innerText =
        document.getElementById("reason").value;

    document.getElementById("p_supervisor").innerText =
        document.getElementById("supervisor").value;

    document.getElementById("p_ceo").innerText =
        document.getElementById("ceo").value;

    document.getElementById("printArea").style.display="block";

    window.print();
}

</script>

</body>
</html>
