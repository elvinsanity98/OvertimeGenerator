<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Overtime Request Form</title>

<style>
  body {
    font-family: "Times New Roman", serif;
    background: #f5f5f5;
    padding: 20px;
  }

  .logo {
    text-align: center;
    margin-bottom: 10px;
  }

  .logo img {
    height: 80px;
  }

  .form-entry {
    max-width: 900px;
    margin: auto;
    background: white;
    padding: 20px;
    border: 1px solid #ccc;
    margin-bottom: 20px;
  }

  .form-entry input, .form-entry textarea {
    width: 100%;
    padding: 6px;
    margin-bottom: 10px;
  }

  .ot-row {
    border: 1px solid #ccc;
    padding: 10px;
    margin-bottom: 10px;
  }

  .add-btn, .print-btn {
    margin-top: 10px;
    padding: 10px 20px;
    cursor: pointer;
  }

  .container {
    max-width: 900px;
    margin: auto;
    background: white;
    padding: 30px;
    border: 1px solid #ccc;
  }

  h2 {
    text-align: center;
    margin-bottom: 20px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
  }

  table, th, td {
    border: 1px solid black;
  }

  th, td {
    padding: 8px;
    vertical-align: top;
  }

  @media print {
    .form-entry, .add-btn, .print-btn {
      display: none;
    }

    body {
      background: white;
    }

    .container {
      border: none;
      padding: 0;
    }
  }
</style>
</head>

<body>

<!-- ENTRY FORM -->
<div class="form-entry">

  <div class="logo">
    <img src="RBLI Logo Horizontal.png" alt="Company Logo" />
  </div>

  <h3>Overtime Entry Form</h3>

  <label>Employee Name</label>
  <input type="text" id="empName" oninput="renderPreview()" />

  <label>Date Filed</label>
  <input type="date" id="dateFiled" oninput="renderPreview()" />

  <div id="otContainer"></div>

  <button class="add-btn" onclick="addOTRow()">Add Overtime Date</button>

  <label>Immediate Supervisor</label>
  <input type="text" id="supervisor" oninput="renderPreview()" />

  <label>HR Department</label>
  <input type="text" id="hrDept" oninput="renderPreview()" />

  <label>Approved By</label>
  <input type="text" id="approvedBy" oninput="renderPreview()" />
</div>

<!-- PREVIEW & PRINT -->
<div class="container">

<div class="logo">
  <img src="https://via.placeholder.com/200x80?text=Company+Logo" alt="Company Logo" />
</div>

<h2>REQUEST FOR OVERTIME</h2>

<table>
<tr>
  <td width="50%"><b>Name of Employee:</b> <span id="v_empName"></span></td>
  <td><b>Date Filed:</b> <span id="v_dateFiled"></span></td>
</tr>
</table>

<table>
<thead>
<tr>
  <th width="20%">Date of Overtime</th>
  <th width="15%">From</th>
  <th width="15%">To</th>
  <th>Reasons for rendering Overtime Work</th>
  <th width="20%">Remarks</th>
</tr>
</thead>
<tbody id="previewRows"></tbody>
</table>

<table style="margin-top:40px;">
<tr>
  <td width="50%">
    <b>Requested by:</b><br><br>
    <span id="v_empName2"></span>
  </td>
  <td>
    <b>Immediate Supervisor:</b><br><br>
    <span id="v_supervisor"></span>
  </td>
</tr>

<tr>
  <td>
    <b>Approved by:</b><br><br>
    <span id="v_approvedBy"></span>
  </td>
  <td>
    <b>HR Department:</b><br><br>
    <span id="v_hrDept"></span>
  </td>
</tr>
</table>

<button class="print-btn" onclick="window.print()">Print Form</button>
</div>

<script>
function formatTime(time24) {
  if (!time24) return "";
  let [hours, minutes] = time24.split(":");
  hours = parseInt(hours);
  const ampm = hours >= 12 ? "PM" : "AM";
  hours = hours % 12 || 12;
  return `${hours}:${minutes} ${ampm}`;
}

function formatDate(dateStr) {
  if (!dateStr) return "";
  const [year, month, day] = dateStr.split("-");
  return `${month}/${day}/${year}`;
}

function addOTRow() {
  const container = document.getElementById("otContainer");

  const div = document.createElement("div");
  div.className = "ot-row";

  div.innerHTML = `
    <label>Date of Overtime</label>
    <input type="date" class="otDate" oninput="renderPreview()" />

    <label>Time From</label>
    <input type="time" class="timeFrom" oninput="renderPreview()" />

    <label>Time To</label>
    <input type="time" class="timeTo" oninput="renderPreview()" />

    <label>Reason</label>
    <textarea class="reason" oninput="renderPreview()"></textarea>

    <label>Remarks</label>
    <textarea class="remarks" oninput="renderPreview()"></textarea>
  `;

  container.appendChild(div);
}

function renderPreview() {
  document.getElementById("v_empName").textContent = document.getElementById("empName").value;
  document.getElementById("v_empName2").textContent = document.getElementById("empName").value;
  document.getElementById("v_dateFiled").textContent = formatDate(document.getElementById("dateFiled").value);
  document.getElementById("v_supervisor").textContent = document.getElementById("supervisor").value;
  document.getElementById("v_hrDept").textContent = document.getElementById("hrDept").value;
  document.getElementById("v_approvedBy").textContent = document.getElementById("approvedBy").value;

  const rows = document.querySelectorAll(".ot-row");
  const preview = document.getElementById("previewRows");
  preview.innerHTML = "";

  rows.forEach(row => {
    const date = formatDate(row.querySelector(".otDate").value);
    const from = formatTime(row.querySelector(".timeFrom").value);
    const to = formatTime(row.querySelector(".timeTo").value);
    const reason = row.querySelector(".reason").value;
    const remarks = row.querySelector(".remarks").value;

    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${date}</td>
      <td>${from}</td>
      <td>${to}</td>
      <td>${reason}</td>
      <td>${remarks}</td>
    `;

    preview.appendChild(tr);
  });
}

addOTRow();
</script>

</body>
</html>
